<!DOCTYPE html>
<html>
  <head>

    <link rel="stylesheet" href="https://bootswatch.com/cosmo/bootstrap.min.css">
    <meta charset="UTF-8">
    <title>Textbox | Send a text message to your friends!</title>
  </head>
  <body>

  <nav class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="#">Textbox</a>
      </div>
      <div id="navbar" class="navbar-collapse collapse">
        <ul class="nav navbar-nav">
          <li class="active"><a href="#">Home</a></li>
          <li><a href="#about">Instructions</a></li>
          <!--<li><a href="#contact">Contact</a></li>-->
          <!--<li class="dropdown">-->
            <!--<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Dropdown <span class="caret"></span></a>-->
            <!--&lt;!&ndash;<ul class="dropdown-menu">&ndash;&gt;-->
              <!--&lt;!&ndash;<li><a href="#">Action</a></li>&ndash;&gt;-->
              <!--&lt;!&ndash;<li><a href="#">Another action</a></li>&ndash;&gt;-->
              <!--&lt;!&ndash;<li><a href="#">Something else here</a></li>&ndash;&gt;-->
              <!--&lt;!&ndash;<li role="separator" class="divider"></li>&ndash;&gt;-->
              <!--&lt;!&ndash;<li class="dropdown-header">Nav header</li>&ndash;&gt;-->
              <!--&lt;!&ndash;<li><a href="#">Separated link</a></li>&ndash;&gt;-->
              <!--&lt;!&ndash;<li><a href="#">One more separated link</a></li>&ndash;&gt;-->
            <!--&lt;!&ndash;</ul>&ndash;&gt;-->
          <!--</li>-->
        </ul>
        <!--<ul class="nav navbar-nav navbar-right">-->
          <!--<li><a href="../navbar/">Default</a></li>-->
          <!--<li><a href="../navbar-static-top/">Static top</a></li>-->
          <!--<li class="active"><a href="./">Fixed top <span class="sr-only">(current)</span></a></li>-->
        <!--</ul>-->
      </div><!--/.nav-collapse -->
    </div>
  </nav>

  <div class="container">

    <!-- Main component for a primary marketing message or call to action -->
    <div class="jumbotron">
      <h1>I love you!</h1>
      <div>
      <p>Enter a phone number and a message, then schedule a time for the message to go out. </p>
        <div class="form-group">
          <input id="userInput1" onchange="testInput1()" class="form-control" placeholder="Enter phone numbers seperated by a comma." >
          <textarea id="userInput2" onchange="testInput2()" class="form-control textarea" placeholder="Message to send out to group."  ></textarea>
          <!--<p class="textarea">From-->
            <!--<select id="timeStart" onchange="Time1()">-->
              <!--<option value="00">12:00 am</option>-->
              <!--<option value="01">1:00 am</option>-->
              <!--<option value="02">2:00 am</option>-->
              <!--<option value="03">3:00 am</option>-->
              <!--<option value="04">4:00 am</option>-->
              <!--<option value="05">5:00 am</option>-->
              <!--<option value="06">6:00 am</option>-->
              <!--<option value="07">7:00 am</option>-->
              <!--<option value="08">8:00 am</option>-->
              <!--<option value="09" selected="selected">9:00 am</option>-->
              <!--<option value="10">10:00 am</option>-->
              <!--<option value="11">11:00 am</option>-->
              <!--<option value="12">12:00 pm</option>-->
              <!--<option value="13">1:00 pm</option>-->
              <!--<option value="14">2:00 pm</option>-->
              <!--<option value="15">3:00 pm</option>-->
              <!--<option value="16">4:00 pm</option>-->
              <!--<option value="17">5:00 pm</option>-->
              <!--<option value="18">6:00 pm</option>-->
              <!--<option value="19">7:00 pm</option>-->
              <!--<option value="20">8:00 pm</option>-->
              <!--<option value="21">9:00 pm</option>-->
              <!--<option value="22">10:00 pm</option>-->
              <!--<option value="23">11:00 pm</option>-->
            <!--</select>-->
            <!--to <select id="timeEnd" onchange="Time2()">-->
              <!--<option value="00">12:00 am</option>-->
              <!--<option value="01">1:00 am</option>-->
              <!--<option value="02">2:00 am</option>-->
              <!--<option value="03">3:00 am</option>-->
              <!--<option value="04">4:00 am</option>-->
              <!--<option value="05">5:00 am</option>-->
              <!--<option value="06">6:00 am</option>-->
              <!--<option value="07">7:00 am</option>-->
              <!--<option value="08">8:00 am</option>-->
              <!--<option value="09">9:00 am</option>-->
              <!--<option value="10">10:00 am</option>-->
              <!--<option value="11">11:00 am</option>-->
              <!--<option value="12">12:00 pm</option>-->
              <!--<option value="13">1:00 pm</option>-->
              <!--<option value="14">2:00 pm</option>-->
              <!--<option value="15">3:00 pm</option>-->
              <!--<option value="16">4:00 pm</option>-->
              <!--<option value="17" selected="selected">5:00 pm</option>-->
              <!--<option value="18">6:00 pm</option>-->
              <!--<option value="19">7:00 pm</option>-->
              <!--<option value="20">8:00 pm</option>-->
              <!--<option value="21">9:00 pm</option>-->
              <!--<option value="22">10:00 pm</option>-->
              <!--<option value="23">11:00 pm</option>-->
            <!--</select>-->
          <!--</p>-->
          <!--<input type="number" class="form-control textarea" placeholder="How many times do you want to send a message?">-->
          <input type="submit" class="btn btn-lg btn-danger btn-primary btn-block textarea" onclick="sendMessage()">
        </div>
      </div>


      <script>

          var accountSid = 'AC7b85ac4abc195dc2fa433cfd5b880b55';
          var authToken = 'f4f75e9d6e2298d720276f489aff387e';

          //require the Twilio module and create a REST client
          var client = require('twilio')(accountSid, authToken);

          function testInput2(){
              if (document.getElementById("userInput2").value) {
                  var body = document.getElementById("userInput2").value;

                  return body;
              }
          }

          function testInput1() {
              if (document.getElementById("userInput1").value) {
                  var numbers = document.getElementById("userInput1").value;

                  var fess = numbers.split(",");
                  var f = fess.length;
                  var numbger = [];


                  for (var i = 0; i < f; i++) {
                      numbger.push("+1" + fess[i]);

                  }
                  alert(numbger);



                  return numbger;
              }
          }

          function sendMessage() {
//
//              if (Time2() <= Time1()) {
//                  alert("Time is incorrect.");
//                  return false;
//              }


              var currentdate = new Date();
              var datetime = currentdate.getHours() + ":"
                  + currentdate.getMinutes();

//              if (datetime >= Time1() && datetime <= Time2()) {

                  client.messages.create({
                      to: testInput1(),
                      from: "+12403033689",
                      body: testInput2()
                  }, function (err, message) {
                      alert("Successfully sent message!");
                  });

//              }

          }

//          function Time1(){
//
//              var e = document.getElementById("timeStart");
//              var timeStart = e.options[e.selectedIndex].value;
//              return timeStart;
//
//          }
//
//          function Time2(){
//
//              var e = document.getElementById("timeEnd");
//              var timeEnd = e.options[e.selectedIndex].value;
//              return timeEnd;
//
//
//          }


      </script>
    </div>

  </div> <!-- /container -->

  <footer class="footer">
    <div class="container">
      <p class="text-muted"> We are using Node.js <script>document.write(process.versions.node)</script>,
        Chromium <script>document.write(process.versions.chrome)</script>,
        and Electron <script>document.write(process.versions.electron)</script>.
      </p>
    </div>
  </footer>


  <style>

    .textarea{
      margin-top:10px;

    }

  </style>
  </body>

  <script>
    // You can also require other files to run in this process
    require('./renderer.js');
    require('https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js')

  </script>
</html>
